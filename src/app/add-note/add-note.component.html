<div  *ngIf="(notesDataObservable | async).notes && userInfo">
    <div class="navbar">
        <div [style.display]="!showSearchBox ? 'block' : 'none'" class="note-icon-container">
            <i class="fa fa-sticky-note-o note-icon"></i>
            <span>NOTES</span>
        </div>
        <div [style.flex-grow]="showSearchBox ? 1 : 0" class="search-bar-container">
            <div class="arrow-icon-container" [style.display]="showSearchBox ? 'block' : 'none'">
                <mat-icon (click)="showSearchBox = false" class="arrow-icon">keyboard_backspace</mat-icon>
                <input 
                    type="text"
                    class="search-bar"
                    placeholder="Search Notes"
                    #searchStringTemplate
                    (input)=search(searchStringTemplate.value)>
            </div>
            <i [style.display]="!showSearchBox ? 'block' : 'none'" (click)="showSearchBox = true" class="fa fa-search search-icon" aria-hidden="true"></i>
        </div>
        <div class="profile-icon-container">
            <i class="fa fa-user-circle-o user-icon"></i>
            <span class="username" (click)="openMenuOptionsPopup($event)">{{ firstname | titlecase }}</span>
            <gs-popover [closeOnClick]="false" #menuOptionsPopup>
                <user-profile [name]="userInfo.name" [email]="userInfo.email"></user-profile> 
            </gs-popover>
        </div>
    </div>     
 
    <div class="notes-body-section">
        <div class="add-note-field-container">
            <input
            type="text" 
            placeholder="Add note here..."
            #note
            (keyup.enter)="addNote(note)"
            class="add-note-field">
        </div>
    
        <div class="flex-container">
            <ng-container *ngFor="let note of ((notesDataObservable | async).notes | searchFilter: searchString)">
                <display-note 
                    *ngIf="note.isPinned"    
                    [displayNote]="note"
                    [isPinned]="note.isPinned"
                    (pinnote)="pinNote(note.id)"
                    (deletenote)="deleteNote(note.id)">      
                </display-note>
            </ng-container>   
        </div>
    
        <br><br>
    
        <div class="flex-container">
            <ng-container *ngFor="let note of ((notesDataObservable | async).notes | searchFilter: searchString)">
                <display-note
                    *ngIf="!note.isPinned"    
                    [displayNote]="note"
                    [isPinned]="note.isPinned"
                    (pinnote)="pinNote(note.id)"
                    (changedColorEvent)="changeColor(note, $event)"
                    (deletenote)="deleteNote(note.id)">      
                </display-note>
            </ng-container>   
        </div>
    </div>
    
</div>

        

